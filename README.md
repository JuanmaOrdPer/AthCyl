## üöÄ Caracter√≠sticas Principales

### üîê Autenticaci√≥n y Seguridad
- **Inicio de sesi√≥n con correo electr√≥nico** (no se utiliza nombre de usuario)
- **Autenticaci√≥n JWT** para acceso seguro a la API
- **Almacenamiento seguro** de credenciales en el dispositivo
- **Protecci√≥n CSRF y XSS** integrada
- **Comunicaci√≥n cifrada** con el servidor

### üèÉ‚Äç‚ôÇÔ∏è Gesti√≥n de Entrenamientos
- **Registro manual** de entrenamientos con m√©tricas detalladas
- **Importaci√≥n autom√°tica** desde archivos GPX/TCX
- **Clasificaci√≥n** por tipo de deporte (carrera, ciclismo, nataci√≥n, etc.)
- **B√∫squeda y filtrado** avanzado de actividades
- **Edici√≥n y eliminaci√≥n** de entrenamientos

### üìä An√°lisis y Estad√≠sticas
- **Panel de estad√≠sticas** con m√©tricas clave
- **Gr√°ficos interactivos** de rendimiento
- **Seguimiento de progreso** a lo largo del tiempo
- **Comparaci√≥n** entre diferentes per√≠odos
- **Exportaci√≥n de datos** en m√∫ltiples formatos

### üó∫Ô∏è Mapas y Rutas
- **Visualizaci√≥n de rutas** en mapas interactivos
- **Perfil de elevaci√≥n** detallado
- **Marcadores** para puntos de inter√©s
- **Compartir rutas** con otros usuarios

## üõ†Ô∏è Tecnolog√≠as Utilizadas

### Backend (API REST)
- **Python 3.8+** - Lenguaje de programaci√≥n principal
- **Django 4.2** - Framework web de alto nivel
- **Django REST Framework** - Para construir la API RESTful
- **Django REST Framework JWT** - Autenticaci√≥n con tokens JWT
- **PostgreSQL** - Base de datos relacional
- **Gunicorn** - Servidor WSGI para producci√≥n
- **Nginx** - Servidor web y proxy inverso
- **Redis** - Cach√© y cola de tareas

### Frontend (Aplicaci√≥n M√≥vil)
- **React Native con Expo** - Framework multiplataforma
- **React Navigation** - Navegaci√≥n entre pantallas
- **React Native Maps** - Visualizaci√≥n de mapas
- **React Native Chart Kit** - Gr√°ficos interactivos
- **Axios** - Cliente HTTP para la API
- **Redux Toolkit** - Gesti√≥n del estado global
- **React Native Paper** - Componentes de UI
- **Lottie** - Animaciones fluidas

### Herramientas de Desarrollo
- **Docker** - Contenedorizaci√≥n
- **Git** - Control de versiones
- **GitHub Actions** - CI/CD
- **ESLint & Prettier** - Formato de c√≥digo
- **Jest & Testing Library** - Pruebas unitarias

## üöÄ Empezando

### Requisitos Previos

- Node.js 16+ y npm/yarn
- Python 3.8+
- PostgreSQL 12+
- Git
- Docker (opcional)

### Instalaci√≥n del Backend

1. Clonar el repositorio:
   ```bash
   git clone https://github.com/tu-usuario/athcyl.git
   cd athcyl/backend
   ```

2. Crear y activar un entorno virtual:
   ```bash
   python -m venv venv
   source venv/bin/activate  # En Windows: venv\Scripts\activate
   ```

3. Instalar dependencias:
   ```bash
   pip install -r requirements.txt
   ```

4. Configurar variables de entorno (crear un archivo `.env` en la carpeta `backend`):
   ```env
   DEBUG=True
   SECRET_KEY=tu-clave-secreta-aqui
   DB_NAME=athcyl_db
   DB_USER=postgres
   DB_PASSWORD=postgres
   DB_HOST=localhost
   DB_PORT=5432
   ```

5. Aplicar migraciones:
   ```bash
   python manage.py migrate
   ```

6. Crear un superusuario:
   ```bash
   python manage.py createsuperuser
   ```

7. Iniciar el servidor de desarrollo:
   ```bash
   python manage.py runserver
   ```

### Instalaci√≥n del Frontend

1. Navegar al directorio del frontend:
   ```bash
   cd ../frontend
   ```

2. Instalar dependencias:
   ```bash
   npm install
   # o
   yarn install
   ```

3. Configurar la URL de la API en `src/config/api.js`:
   ```javascript
   export const API_BASE_URL = 'http://tu-servidor-backend:8000';
   ```

4. Iniciar la aplicaci√≥n:
   ```bash
   npm start
   # o
   yarn start
   ```

## üì± Uso

### Autenticaci√≥n
1. Reg√≠strate con tu correo electr√≥nico y contrase√±a
2. Inicia sesi√≥n con tus credenciales
3. Tu sesi√≥n se mantendr√° activa incluso despu√©s de cerrar la aplicaci√≥n

### A√±adir un Entrenamiento
1. Toca el bot√≥n "+" en la pantalla principal
2. Completa los detalles del entrenamiento
3. Opcionalmente, importa un archivo GPX/TCX
4. Guarda para registrar el entrenamiento

### Ver Estad√≠sticas
1. Navega a la pesta√±a "Estad√≠sticas"
2. Selecciona el rango de fechas que deseas analizar
3. Explora las diferentes m√©tricas y gr√°ficos disponibles

## ü§ù Contribuci√≥n

¬°Las contribuciones son bienvenidas! Por favor, lee nuestras [pautas de contribuci√≥n](CONTRIBUTING.md) antes de enviar un pull request.

1. Haz un fork del proyecto
2. Crea una rama para tu caracter√≠stica (`git checkout -b feature/nueva-caracteristica`)
3. Haz commit de tus cambios (`git commit -m 'A√±adir nueva caracter√≠stica'`)
4. Haz push a la rama (`git push origin feature/nueva-caracteristica`)
5. Abre un Pull Request

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Consulta el archivo [LICENSE](LICENSE) para m√°s detalles.

## üìû Contacto

Juan Manuel Ord√°s Periscal - [@tuusuario](https://twitter.com/tuusuario)

Enlace del proyecto: [https://github.com/tu-usuario/athcyl](https://github.com/tu-usuario/athcyl)

## üôè Agradecimientos

- A todos los contribuyentes que han ayudado a mejorar este proyecto
- A la comunidad de c√≥digo abierto por las incre√≠bles herramientas que hacen posible AthCyl

---

<div align="center">
  Hecho con ‚ù§Ô∏è por el equipo de AthCyl
</div>

## Caracter√≠sticas Principales

- **Autenticaci√≥n segura** por correo electr√≥nico con JWT (JSON Web Tokens)
- **Registro e inicio de sesi√≥n** con tokens de acceso y actualizaci√≥n
- **Gesti√≥n de perfil de usuario** con informaci√≥n personal y preferencias
- **Registro de entrenamientos** manual o mediante archivos GPX/TCX
- **Seguimiento de m√©tricas** como distancia, duraci√≥n, ritmo y elevaci√≥n
- **Visualizaci√≥n de rutas** en mapas interactivos
- **Estad√≠sticas detalladas** con gr√°ficos para analizar el rendimiento
- **Interfaz intuitiva** dise√±ada para m√≥viles con React Native
- **Almacenamiento seguro** de credenciales y datos sensibles

## Caracter√≠sticas T√©cnicas

### Autenticaci√≥n y Seguridad
- Autenticaci√≥n por correo electr√≥nico (no se utiliza nombre de usuario)
- Tokens JWT para autenticaci√≥n sin estado
- Renovaci√≥n autom√°tica de tokens de acceso
- Almacenamiento seguro de tokens en el dispositivo
- Comunicaci√≥n segura mediante HTTPS
- Protecci√≥n contra CSRF y XSS

### Gesti√≥n de Entrenamientos
- Registro manual de entrenamientos
- Importaci√≥n desde archivos GPX/TCX
- C√°lculo autom√°tico de m√©tricas (distancia, ritmo, elevaci√≥n, etc.)
- Clasificaci√≥n de entrenamientos por tipo (carrera, ciclismo, nataci√≥n, etc.)
- B√∫squeda y filtrado de entrenamientos

### An√°lisis y Visualizaci√≥n
- Gr√°ficos interactivos de rendimiento
- Mapa con rutas trazadas
- Estad√≠sticas de progreso a lo largo del tiempo
- Comparaci√≥n de entrenamientos
- Exportaci√≥n de datos en m√∫ltiples formatos

## Tecnolog√≠as Utilizadas

### Backend
- **Python 3.8+**: Lenguaje de programaci√≥n principal
- **Django 4.2.7**: Framework web de alto nivel
- **Django REST Framework 3.16.0**: Para construir la API RESTful
- **Django REST Framework JWT**: Para autenticaci√≥n con tokens JWT
- **PostgreSQL 12+**: Base de datos relacional
- **Django Extensions**: Utilidades adicionales para desarrollo
- **Django SSL Server**: Para ejecutar con HTTPS en desarrollo
- **Gunicorn**: Servidor WSGI para producci√≥n
- **WhiteNoise**: Para servir archivos est√°ticos
- **psycopg2-binary**: Adaptador PostgreSQL para Python
- **bcrypt**: Para el hash seguro de contrase√±as
- **gpxpy**: Para procesar archivos GPX
- **pandas**: Para an√°lisis de datos
- **python-dateutil**: Utilidades para manejo de fechas
- **Pillow**: Para procesamiento de im√°genes

### Frontend (React Native con Expo)
- **React Native 0.72.10**: Framework para aplicaciones m√≥viles
- **Expo 49.0.8**: Plataforma para desarrollo m√≥vil
- **React Navigation 6.1.7**: Navegaci√≥n entre pantallas
- **Axios 1.4.0**: Cliente HTTP para la API
- **React Native Maps 1.7.1**: Visualizaci√≥n de mapas y rutas
- **React Native Chart Kit 6.12.0**: Gr√°ficos interactivos
- **React Native Vector Icons 10.0.0**: Iconos para la interfaz
- **Expo Secure Store**: Almacenamiento seguro de tokens
- **Expo File System**: Manejo de archivos locales
- **React Native Reanimated 3.3.0**: Animaciones fluidas
- **Lottie React Native 5.1.6**: Animaciones avanzadas

### Desarrollo
- **ESLint**: An√°lisis de c√≥digo est√°tico
- **Prettier**: Formateo de c√≥digo
- **Jest**: Framework de pruebas
- **Testing Library**: Pruebas de componentes
- **Git**: Control de versiones
- **GitHub**: Alojamiento de c√≥digo
- **Docker**: Contenedorizaci√≥n
- **Postman**: Pruebas de API

### Producci√≥n
- **Nginx**: Servidor web y proxy inverso
- **Gunicorn**: Servidor WSGI
- **PostgreSQL**: Base de datos
- **Redis**: Cach√© y cola de tareas
- **Let's Encrypt**: Certificados SSL
- **GitHub Actions**: CI/CD

### Frontend (Optimizado para dispositivos m√≥viles)
- **React Native con Expo**: Framework multiplataforma para desarrollo de aplicaciones m√≥viles.
- **React Navigation**: Navegaci√≥n fluida entre pantallas de la aplicaci√≥n.
- **React Native Maps**: Visualizaci√≥n de rutas de entrenamiento con mapas nativos.
- **React Native Chart Kit**: Gr√°ficos interactivos optimizados para dispositivos m√≥viles.
- **Axios**: Cliente HTTP para comunicaci√≥n segura con la API.
- **Expo Location**: Acceso a GPS para seguimiento preciso de rutas.
- **Expo Secure Store**: Almacenamiento seguro de credenciales de usuario.
- **Expo File System**: Manejo eficiente de archivos GPX/TCX.
- **Jest y Testing Library**: Framework de pruebas para componentes, servicios y pantallas.

### Seguridad
- **HTTPS**: Comunicaci√≥n segura entre cliente y servidor.
- **Autenticaci√≥n B√°sica**: Sistema de autenticaci√≥n seguro.
- **Cifrado de Contrase√±as**: Se utiliza bcrypt para asegurar las contrase√±as.
- **Certificados SSL**: Generados para el entorno de desarrollo.

### Almacenamiento y Procesamiento de Datos
- **AsyncStorage**: Almacenamiento local en el dispositivo del usuario.
- **Procesamiento de archivos GPX/TCX**: Extracci√≥n y an√°lisis de datos de entrenamiento.
- **PDFKit**: Para generar informes en formato PDF.
- **CSV**: Para exportar datos en formato CSV.

## Estructura del Proyecto

```
AthCyl/
‚îú‚îÄ‚îÄ backend/                    # Backend Django
‚îÇ   ‚îú‚îÄ‚îÄ athcyl/                 # Configuraci√≥n principal del proyecto
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.py         # Configuraci√≥n del proyecto
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py             # Rutas principales de la API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ asgi.py             # Configuraci√≥n ASGI
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py             # Configuraci√≥n WSGI
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ users/                  # App de usuarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py           # Configuraci√≥n del admin
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apps.py            # Configuraci√≥n de la app
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Modelos de usuario
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py     # Serializadores para la API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py            # Rutas de la API de usuarios
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py           # Vistas de la API de usuarios
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ trainings/           # App de entrenamientos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apps.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Modelos de entrenamientos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py     # Serializadores para la API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py            # Rutas de la API de entrenamientos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views.py           # Vistas de la API de entrenamientos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ parsers.py         # Parsers para archivos GPX/TCX
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ stats/               # App de estad√≠sticas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apps.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Modelos de estad√≠sticas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py     # Serializadores para estad√≠sticas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py            # Rutas de la API de estad√≠sticas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py           # Vistas de la API de estad√≠sticas
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ manage.py           # Script de administraci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt       # Dependencias de Python
‚îÇ   ‚îî‚îÄ‚îÄ .env.example          # Variables de entorno de ejemplo
‚îú‚îÄ‚îÄ frontend/                   # Frontend React Native
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/            # Recursos est√°ticos (im√°genes, fuentes, etc.)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fonts/          # Fuentes personalizadas
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ icons/           # Iconos de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ images/          # Im√°genes de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/          # Componentes comunes (botones, inputs, etc.)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TrainingMap/     # Mapa para visualizar rutas
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TrainingChart/   # Gr√°ficos de rendimiento
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TrainingCard/    # Tarjeta de entrenamiento
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StatsCard/      # Tarjeta de estad√≠sticas
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants/        # Constantes de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ theme.js        # Estilos y temas
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.js       # Configuraci√≥n general
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/        # Contextos de React
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.js  # Autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ThemeContext.js # Tema de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # Custom Hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js      # Hook para autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useTheme.js     # Hook para tema
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navigation/      # Navegaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppNavigator.js # Navegador principal
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthNavigator.js # Navegador de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainNavigator.js # Navegador principal
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ screens/         # Pantallas de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/            # Pantallas de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginScreen.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegisterScreen.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ForgotPasswordScreen.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main/          # Pantallas principales
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ HomeScreen.js
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ TrainingListScreen.js
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ TrainingDetailScreen.js
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AddTrainingScreen.js
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ StatsScreen.js
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ProfileScreen.js
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ SettingsScreen.js
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/        # Servicios
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js          # Cliente de API
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js         # Servicio de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ training.js     # Servicio de entrenamientos
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage.js      # Almacenamiento local
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/          # Estado global (si se usa Redux)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ actions/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reducers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ store.js
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/          # Utilidades
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ formatters.js   # Funciones de formateo
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ validators.js   # Validaciones
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ helpers.js      # Funciones de ayuda
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.js              # Punto de entrada de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ app.json              # Configuraci√≥n de Expo
‚îÇ   ‚îú‚îÄ‚îÄ babel.config.js       # Configuraci√≥n de Babel
‚îÇ   ‚îú‚îÄ‚îÄ package.json          # Dependencias y scripts
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ .gitignore             # Archivos ignorados por Git
‚îú‚îÄ‚îÄ .env.example             # Variables de entorno de ejemplo
‚îú‚îÄ‚îÄ docker-compose.yml       # Configuraci√≥n de Docker Compose
‚îú‚îÄ‚îÄ Dockerfile               # Configuraci√≥n de Docker
‚îî‚îÄ‚îÄ README.md               # Este archivo
‚îú‚îÄ‚îÄ setup_db.py                # Script para configurar la base de datos
‚îú‚îÄ‚îÄ create_db_user.py           # Script para crear usuario de base de datos
‚îú‚îÄ‚îÄ .env                        # Variables de entorno
‚îî‚îÄ‚îÄ README.md                   # Documentaci√≥n del proyecto
```

## Requisitos del Sistema

### Backend
- Python 3.8 o superior
- PostgreSQL 12 o superior
- pip (gestor de paquetes de Python)
- virtualenv (recomendado)

### Frontend
- Node.js 16.x o superior
- npm 8.x o superior (o yarn)
- Expo CLI (`npm install -g expo-cli`)
- Android Studio / Xcode (para desarrollo m√≥vil nativo)

### Desarrollo
- Git
- Docker y Docker Compose (opcional, para desarrollo con contenedores)
- Postman o similar (para probar la API)

## Configuraci√≥n del Entorno de Desarrollo

### Backend

1. **Clonar el repositorio**
   ```bash
   git clone https://github.com/tu-usuario/athcyl.git
   cd athcyl/backend
   ```

2. **Configurar entorno virtual**
   ```bash
   # Linux/macOS
   python3 -m venv venv
   source venv/bin/activate
   
   # Windows
   python -m venv venv
   .\venv\Scripts\activate
   ```

3. **Instalar dependencias**
   ```bash
   pip install -r requirements.txt
   ```

4. **Configurar variables de entorno**
   Copiar el archivo `.env.example` a `.env` y configurar las variables necesarias:
   ```bash
   cp .env.example .env
   # Editar el archivo .env con tus configuraciones
   ```

5. **Configurar la base de datos**
   Aseg√∫rate de tener PostgreSQL instalado y crear una base de datos vac√≠a.
   Luego, ejecuta las migraciones:
   ```bash
   python manage.py migrate
   ```

6. **Crear superusuario**
   ```bash
   python manage.py createsuperuser
   ```

7. **Iniciar el servidor de desarrollo**
   ```bash
   python manage.py runserver
   ```
   O con HTTPS para desarrollo:
   ```bash
   python manage.py runsslserver
   ```

### Frontend

1. **Instalar dependencias**
   ```bash
   cd ../frontend
   npm install
   # o si usas yarn
   yarn install
   ```

2. **Configurar variables de entorno**
   Copiar el archivo `.env.example` a `.env` y configurar las variables necesarias:
   ```bash
   cp .env.example .env
   # Editar el archivo .env con tus configuraciones
   ```

3. **Iniciar la aplicaci√≥n**
   ```bash
   # Para Android
   npm run android
   
   # Para iOS
   npm run ios
   
   # Para web
   npm run web
   ```

## Despliegue

### Backend (Producci√≥n)

1. **Configuraci√≥n de producci√≥n**
   - Aseg√∫rate de que `DEBUG=False` en producci√≥n
   - Configura `ALLOWED_HOSTS` con tu dominio
   - Configura `DATABASES` para usar tu base de datos de producci√≥n
   - Configura `STATIC_ROOT` y `MEDIA_ROOT`

2. **Recopilar archivos est√°ticos**
   ```bash
   python manage.py collectstatic --noinput
   ```

3. **Usar un servidor WSGI**
   Configura Gunicorn o uWSGI con Nginx como proxy inverso.

### Frontend (Producci√≥n)

1. **Construir para producci√≥n**
   ```bash
   expo build:web
   ```

2. **Desplegar la web**
   Los archivos generados estar√°n en `web-build/` y pueden ser servidos por cualquier servidor web est√°tico.

## Estructura de la API

La API sigue el est√°ndar RESTful y utiliza autenticaci√≥n JWT. A continuaci√≥n se detallan los endpoints principales:

### Autenticaci√≥n

- `POST /api/auth/register/` - Registrar un nuevo usuario
- `POST /api/auth/login/` - Iniciar sesi√≥n (obtener tokens)
- `POST /api/auth/refresh/` - Renovar token de acceso
- `POST /api/auth/logout/` - Cerrar sesi√≥n (invalidar token)

### Usuarios

- `GET /api/users/me/` - Obtener perfil del usuario actual
- `PUT /api/users/me/` - Actualizar perfil del usuario actual
- `PATCH /api/users/me/` - Actualizar parcialmente el perfil

### Entrenamientos

- `GET /api/trainings/` - Listar entrenamientos
- `POST /api/trainings/` - Crear un nuevo entrenamiento
- `GET /api/trainings/{id}/` - Obtener detalles de un entrenamiento
- `PUT /api/trainings/{id}/` - Actualizar un entrenamiento
- `DELETE /api/trainings/{id}/` - Eliminar un entrenamiento
- `POST /api/trainings/import/` - Importar entrenamiento desde archivo GPX/TCX

### Estad√≠sticas

- `GET /api/stats/` - Obtener estad√≠sticas generales
- `GET /api/stats/weekly/` - Estad√≠sticas semanales
- `GET /api/stats/monthly/` - Estad√≠sticas mensuales
- `GET /api/stats/yearly/` - Estad√≠sticas anuales

## Autenticaci√≥n

La autenticaci√≥n se realiza mediante JWT (JSON Web Tokens). El flujo es el siguiente:

1. El usuario inicia sesi√≥n con su email y contrase√±a
2. El servidor responde con un token de acceso y un token de actualizaci√≥n
3. El cliente debe incluir el token de acceso en el encabezado `Authorization: Bearer <token>`
4. Cuando el token de acceso expira, el cliente puede usar el token de actualizaci√≥n para obtener uno nuevo

### Ejemplo de autenticaci√≥n

```http
POST /api/auth/login/
Content-Type: application/json

{
  "email": "usuario@ejemplo.com",
  "password": "contrase√±a123"
}
```

Respuesta exitosa:

```json
{
  "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

## Contribuci√≥n

1. Haz un fork del proyecto
2. Crea una rama para tu caracter√≠stica (`git checkout -b feature/nueva-caracteristica`)
3. Realiza tus cambios y haz commit (`git commit -am 'A√±adir nueva caracter√≠stica'`)
4. Haz push a la rama (`git push origin feature/nueva-caracteristica`)
5. Abre un Pull Request

## Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

## Contacto

Si tienes alguna pregunta o sugerencia, no dudes en abrir un issue o contactar al equipo de desarrollo.

### Frontend
- Node.js 14+ y npm 6+
- Expo CLI
- Dependencias principales (ver `frontend/package.json`):
  - **UI y Navegaci√≥n**:
    - React Native 0.72.10
    - Expo 49.0.8
    - React Navigation 6.1.7
    - React Native Paper 5.10.3
    - React Native Vector Icons 10.0.0
  
  - **Visualizaci√≥n de datos**:
    - React Native Maps 1.7.1 (para rutas de entrenamiento)
    - React Native Chart Kit 6.12.0 (para gr√°ficos)
    - React Native SVG 13.9.0 (soporte para gr√°ficos)
  
  - **Comunicaci√≥n y almacenamiento**:
    - Axios 1.4.0 (cliente HTTP/HTTPS)
    - AsyncStorage 1.18.2 (almacenamiento local)
    - Expo Secure Store 12.3.1 (almacenamiento seguro para credenciales)
  
  - **Procesamiento de archivos**:
    - Expo Document Picker y File System (para selecci√≥n y manejo de archivos)
    - Expo Image Picker (para selecci√≥n de im√°genes)
    - Mapbox ToGeoJSON y XMLDom (para procesamiento de archivos GPX/TCX)
  
  - **Exportaci√≥n de datos**:
    - Expo Print y Sharing (para generar y compartir informes)
  
  - **Animaciones y experiencia de usuario**:
    - React Native Reanimated 3.3.0
    - Lottie React Native 5.1.6 (para animaciones avanzadas)

## Instalaci√≥n

### Backend

1. Clonar el repositorio:
   ```bash
   git clone https://github.com/tu-usuario/AthCyl.git
   cd AthCyl
   ```

2. Crear un entorno virtual:
   ```bash
   python -m venv venv
   source venv/bin/activate  # En Windows: venv\Scripts\activate
   ```

3. Instalar dependencias:
   ```bash
   pip install -r requirements.txt
   ```

4. Configurar la base de datos PostgreSQL:
   ```bash
   # Crear usuario y base de datos (si no existe)
   python create_db_user.py
   
   # Configurar la base de datos y crear superusuario
   python setup_db.py
   ```

5. Iniciar el servidor con HTTPS:
   ```bash
   cd backend
   python run_https_server.py
   ```

6. Ejecutar el servidor de desarrollo con HTTPS:
   ```
   cd backend
   python manage.py runserver_plus --cert-file=certs/server.crt --key-file=certs/server.key
   ```
   Esto generar√° certificados SSL autofirmados y ejecutar√° el servidor con soporte HTTPS.

### Frontend

1. Instalar dependencias del frontend:
   ```bash
   cd frontend
   npm install
   ```

2. Resolver posibles conflictos de dependencias:
   ```bash
   npx expo install --fix
   ```
   
   > **Nota sobre la versi√≥n web**: El proyecto incluye polyfills para resolver problemas comunes al ejecutar la aplicaci√≥n en un navegador:
   > - M√≥dulos faltantes como `@react-native/normalize-colors` y `@react-native/assets-registry`
   > - Compatibilidad con iconos y componentes nativos
   > - Todos estos polyfills est√°n configurados en `webpack.config.js` y `src/polyfills/index.js`

3. Ejecutar el frontend:
   ```bash
   npm start
   ```
   
4. Acceder a la aplicaci√≥n:
   - **Dispositivos m√≥viles**: Escanear el c√≥digo QR con la aplicaci√≥n Expo Go
   - **Emuladores**: Presionar 'a' para Android o 'i' para iOS en la terminal
   
   > **Nota**: AthCyl est√° optimizada para dispositivos m√≥viles, donde ofrece la mejor experiencia de usuario y acceso completo a sensores como GPS para seguimiento de rutas.

## Uso

### Backend

1. Acceder al panel de administraci√≥n: `https://127.0.0.1:8000/admin/`
   - Utiliza las credenciales del superusuario creado anteriormente

2. API REST: `https://127.0.0.1:8000/`
   - La p√°gina principal muestra informaci√≥n sobre los endpoints disponibles
   - Usuarios: `https://127.0.0.1:8000/api/users/`
   - Entrenamientos: `https://127.0.0.1:8000/api/trainings/`
   - Estad√≠sticas: `https://127.0.0.1:8000/api/stats/`

3. Autenticaci√≥n:
   - Todas las peticiones a la API requieren autenticaci√≥n b√°sica
   - Puedes usar las credenciales del superusuario para probar la API

### Frontend

1. Pantallas principales:
   - **Inicio**: Resumen de actividad, entrenamientos recientes y objetivos
   - **Entrenamientos**: Lista de entrenamientos con opci√≥n de agregar nuevos
   - **Detalle de Entrenamiento**: Visualizaci√≥n detallada con mapas y gr√°ficos
   - **Objetivos**: Gesti√≥n de objetivos de entrenamiento
   - **Perfil**: Gesti√≥n de datos del usuario

2. Funcionalidades principales:
   - Registro e inicio de sesi√≥n
   - Creaci√≥n y edici√≥n de entrenamientos
   - Carga de archivos GPX/TCX
   - Visualizaci√≥n de estad√≠sticas
   - Configuraci√≥n de objetivos

## Pruebas

AthCyl incluye un conjunto completo de pruebas tanto para el backend como para el frontend, asegurando la calidad y estabilidad del c√≥digo.

### Pruebas de Backend

Las pruebas de integraci√≥n del backend verifican el funcionamiento correcto de la API REST:

```bash
cd backend
python tests/integration_tests.py
```

Estas pruebas cubren:
- Autenticaci√≥n de usuarios
- Operaciones CRUD para entrenamientos
- Operaciones CRUD para objetivos
- Actualizaci√≥n de perfil de usuario
- Estad√≠sticas de usuario

### Pruebas de Frontend

El frontend utiliza Jest y React Testing Library para probar componentes, servicios y pantallas:

```bash
cd frontend
npm test
```

Para ver la cobertura de c√≥digo:

```bash
npm run test:coverage
```

Las pruebas del frontend cubren:

1. **Pruebas de autenticaci√≥n**:
   - Pantalla de inicio de sesi√≥n
   - Contexto de autenticaci√≥n

2. **Pruebas de servicios**:
   - Llamadas a la API
   - Servicios de geolocalizaci√≥n
   - Almacenamiento seguro

3. **Pruebas de componentes**:
   - Tarjetas de entrenamiento
   - Sistema de notificaciones

4. **Pruebas de pantallas**:
   - Pantalla de seguimiento de entrenamiento

## Contribuci√≥n

Las contribuciones son bienvenidas. Por favor, sigue estos pasos:

1. Haz un fork del proyecto
2. Crea una rama para tu caracter√≠stica (`git checkout -b feature/amazing-feature`)
3. Haz commit de tus cambios (`git commit -m 'Add some amazing feature'`)
4. Haz push a la rama (`git push origin feature/amazing-feature`)
5. Abre un Pull Request

## Licencia

Este proyecto est√° licenciado bajo la Licencia MIT - ver el archivo LICENSE para m√°s detalles.

## Contacto

Juan Manuel Ord√°s - [juanma.ordas@gmail.com](mailto:juanma.ordas@gmail.com)

Enlace del proyecto: [https://github.com/juanma-ods/AthCyl](https://github.com/juanma-ods/AthCyl)
